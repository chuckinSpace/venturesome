require('dotenv').config()
const { WebClient } = require('@slack/web-api');
// Create a new instance of the WebClient class with the token read from your environment variable
const web = new WebClient(process.env.SLACK_TOKEN);

// The current date
/* const currentTime = new Date().toTimeString(); */


(async () => {
  // Use the `auth.test` method to find information about the installing user
  const res = await web.auth.test()

  // Find your user id to know where to send messages to
  const userId = res.user_id

 //get users list
 const venturesomeTeamChannel = "CL9EBB99P"
 const users = await web.channels.info({
     channel: venturesomeTeamChannel
 }); 
 const venturesomeUsers = users.channel.members

 var slackInfo= [] 
 const usersList = await venturesomeUsers.map(user=> {
    console.log(web.users.info({user: user}))
    
 })

  console.log(users.channel.members)
  // create a private channel
  /* await web.groups.create({
    name: "Private Channel", 
  }); 
  */

  console.log('Message posted!');
})();






/*
send a message

await web.chat.postMessage({
    channel: "URR2P0WTX",
    text: `This message is generated by our app`,
  }); */